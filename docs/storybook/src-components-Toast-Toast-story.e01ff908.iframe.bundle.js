"use strict";(self.webpackChunkanique=self.webpackChunkanique||[]).push([[797],{"./src/lib/src/components/Toast/Toast.story.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{BasicToast:()=>BasicToast,ToastWithProgressBarAndPauseOnHover:()=>ToastWithProgressBarAndPauseOnHover,__namedExportsOrder:()=>__namedExportsOrder,default:()=>Toast_story});var react=__webpack_require__("./node_modules/react/index.js"),emotion_styled_browser_esm=(__webpack_require__("./node_modules/@storybook/react/dist/index.mjs"),__webpack_require__("./node_modules/@emotion/styled/dist/emotion-styled.browser.esm.js")),Portal=__webpack_require__("./src/lib/src/components/Portal/Portal.tsx"),Icon=__webpack_require__("./src/lib/src/components/Icon/Icon.tsx"),MobileCancelMajor=__webpack_require__("./src/lib/src/icons/MobileCancelMajor.tsx"),useCountdown=__webpack_require__("./src/lib/src/components/ProgressBar/utilities/useCountdown.ts"),ProgressBar=__webpack_require__("./src/lib/src/components/ProgressBar/ProgressBar.tsx"),emotion_react_browser_esm=__webpack_require__("./node_modules/@emotion/react/dist/emotion-react.browser.esm.js");class UrsaAnimation{constructor(name){this.name=name,this.duration=.2,this.timingFunction=this.getTimingFunction(),this.fillMode=this.getFillMode(),this.direction="normal"}getKeyframes(from,to){let KEYFRAMES;switch(this.name){case"fadeIn":KEYFRAMES=(0,emotion_react_browser_esm.F4)({from:{opacity:from??0},to:{opacity:to??1}});break;case"fadeOut":KEYFRAMES=(0,emotion_react_browser_esm.F4)({from:{opacity:from??1},to:{opacity:to??0}});break;case"fillX":KEYFRAMES=(0,emotion_react_browser_esm.F4)({from:{transform:"scaleX(0)"},to:{transform:`scaleX(${to??100}%)`}});break;case"fillY":KEYFRAMES=(0,emotion_react_browser_esm.F4)({from:{transform:"scaleY(0)"},to:{transform:`scaleY(${to??100}%)`}});break;case"zoomIn":KEYFRAMES=(0,emotion_react_browser_esm.F4)({from:{transform:"scale(0)"},to:{transform:"scale(1)"}});break;case"zoomOut":KEYFRAMES=(0,emotion_react_browser_esm.F4)({from:{transform:"scale(1)"},to:{transform:"scale(0)"}});break;case"zoomInOut":KEYFRAMES=(0,emotion_react_browser_esm.F4)({"0%":{transform:"scale(0)"},"2%":{transform:"scale(1)"},"98%":{transform:"scale(1)"},"100%":{transform:"scale(0)"}});break;case"slideInLeft":KEYFRAMES=(0,emotion_react_browser_esm.F4)({from:{transform:"translateX(-2000px)"},to:{transform:"translateX(0)"}});break;case"slideOutLeft":KEYFRAMES=(0,emotion_react_browser_esm.F4)({from:{transform:"translateX(0)"},to:{transform:"translateX(-2000px)"}});break;case"slideInRight":KEYFRAMES=(0,emotion_react_browser_esm.F4)({from:{transform:"translateX(2000px)"},to:{transform:"translateX(0)"}});break;case"slideOutRight":KEYFRAMES=(0,emotion_react_browser_esm.F4)({from:{transform:"translateX(0)"},to:{transform:"translateX(2000px)"}});break;case"slideInTop":KEYFRAMES=(0,emotion_react_browser_esm.F4)({from:{transform:"translateY(-2000px)"},to:{transform:"translateY(0)"}});break;case"slideOutTop":KEYFRAMES=(0,emotion_react_browser_esm.F4)({from:{transform:"translateY(0)"},to:{transform:"translateY(-2000px)"}});break;case"slideInBottom":KEYFRAMES=(0,emotion_react_browser_esm.F4)({from:{transform:"translateY(2000px)"},to:{transform:"translateY(0)"}});break;case"slideOutBottom":KEYFRAMES=(0,emotion_react_browser_esm.F4)({from:{transform:"translateY(0)"},to:{transform:"translateY(2000px)"}});break;case"bounceInTop":KEYFRAMES=(0,emotion_react_browser_esm.F4)({"0%":{transform:"translateY(-200%)"},"70%":{transform:"translateY(20px)"},"80%":{transform:"translateY(-15px)"},"90%":{transform:"translateY(10px)"},"100%":{transform:"translateY(0)"}});break;case"bounceInBottom":KEYFRAMES=(0,emotion_react_browser_esm.F4)({"0%":{transform:"translateY(200%)"},"70%":{transform:"translateY(-30%)"},"80%":{transform:"translateY(22.5%)"},"90%":{transform:"translateY(-15%)"},"100%":{transform:"translateY(0)"}})}return KEYFRAMES}getTimingFunction(){switch(this.name){case"fadeIn":case"fadeOut":case"zoomIn":case"zoomOut":case"zoomInOut":return"ease-in-out";case"fillX":case"fillY":case"slideInTop":case"slideInRight":case"slideInBottom":case"slideInLeft":case"slideOutTop":case"slideOutLeft":case"slideOutBottom":case"slideOutRight":return"ease";default:return"linear"}}getFillMode(){return this.name,"forwards"}}var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const UrsaToast=({children,duration=5,pauseOnHover,onDismiss,progress,className})=>{const[hover,setHover]=(0,react.useState)(!1),{countdown,duration:TTL}=(0,useCountdown.a)(duration,.1,{condition:pauseOnHover&&hover,onDismiss}),progressMarkup=progress?(0,jsx_runtime.jsx)(ProgressBar.k,{className:"Ursa-ToastCountdown",progress:countdown,size:"small",preset:"countdown"}):void 0,contentMarkup=children?(0,jsx_runtime.jsxs)("span",{className:"Ursa-ToastContent",children:[children," - (Closing in ",TTL,"s)"]}):void 0;return(0,jsx_runtime.jsx)(Portal.h,{idPrefix:"Ursa-ToastPortal",children:(0,jsx_runtime.jsx)("div",{className:`Ursa-ToastContainer ${className||""}`,children:(0,jsx_runtime.jsxs)("div",{className:"Ursa-Toast",onMouseOver:()=>setHover(!0),onMouseOut:()=>setHover(!1),children:[contentMarkup,progressMarkup,(0,jsx_runtime.jsx)(Icon.J,{source:MobileCancelMajor.Z,className:"Ursa-ToastClose",size:"medium",onClick:onDismiss})]})})})};UrsaToast.displayName="UrsaToast";const Toast=(0,emotion_styled_browser_esm.Z)(UrsaToast)((({theme:{color,animation},duration=5,position,pauseOnHover})=>{const computedWrapperPosition={};switch(position){case"top-left":computedWrapperPosition.top="2rem",computedWrapperPosition.left="2rem";break;case"top-right":computedWrapperPosition.top="2rem",computedWrapperPosition.right="2rem";break;case"top-center":computedWrapperPosition.top="2rem",computedWrapperPosition.left="25%",computedWrapperPosition.right="25%";break;case"bottom-left":computedWrapperPosition.bottom="2rem",computedWrapperPosition.left="2rem";break;case"bottom-right":computedWrapperPosition.bottom="2rem",computedWrapperPosition.right="2rem";break;default:computedWrapperPosition.bottom="2rem",computedWrapperPosition.left="25%",computedWrapperPosition.right="25%"}const toastAnimation=(({enter,enterFrom,enterTo,enterDuration,enterTimingFunction,enterDelay,enterFillMode,enterDirection,exit,exitFrom,exitTo,enterIterationCount,exitDuration,exitTimingFunction,exitDelay,exitFillMode,exitDirection,exitIterationCount})=>{const animationEnterProps=[],animationExitProps=[],animationEnter=new UrsaAnimation(enter),animationExit=exit?new UrsaAnimation(exit):void 0,enterKeyframes=animationEnter.getKeyframes(enterFrom,enterTo);if(enterKeyframes){if(animationEnterProps.unshift(enterKeyframes.toString()),console.log({enterKeyframes}),animationEnterProps.push(`${enterDuration&&enterDuration>0?enterDuration:animationEnter.duration}s`),animationEnterProps.push(enterTimingFunction||animationEnter.timingFunction),enterDelay&&animationEnterProps.push(`${enterDelay}s`),animationEnterProps.push(enterFillMode||animationEnter.fillMode),enterDirection&&animationEnterProps.push(enterDirection||animationEnter.direction),enterIterationCount&&enterIterationCount>0&&animationEnterProps.push(enterIterationCount.toString()),!exit)return animationEnterProps.join(" ");switch(exit){default:if(!animationExit)break;{const exitKeyframes=animationExit.getKeyframes(exitFrom,exitTo);if(!exitKeyframes)return;animationExitProps.unshift(exitKeyframes.toString()),animationExitProps.push(`${exitDuration&&exitDuration>0?exitDuration:animationExit.duration}s`),animationExitProps.push(exitTimingFunction||animationExit.timingFunction),exitDelay&&animationExitProps.push(`${exitDelay}s`),animationExitProps.push(exitFillMode||animationExit.fillMode),exitDirection&&animationExitProps.push(exitDirection||animationExit.direction),exitIterationCount&&exitIterationCount>0&&animationEnterProps.push(exitIterationCount.toString())}}return`${animationEnterProps.join(" ")}, ${animationExitProps.join(" ")}`}})({enter:"bounceInBottom",enterDuration:.3,enterTimingFunction:"ease-in-out",exit:"slideOutBottom",exitTimingFunction:"ease-in-out",exitDuration:.2,exitDelay:duration+.1});return{position:"absolute",...computedWrapperPosition,animation:toastAnimation,"&:hover":{animationPlayState:pauseOnHover?"paused":void 0},"& > .Ursa-Toast":{position:"relative",cursor:"pointer",backgroundColor:color["--ursa-black"],color:color["--ursa-white"],borderRadius:"0.25rem",padding:"1.25rem",width:"480px",textAlign:"center",margin:"0 auto","& > .Ursa-ToastCountdown":{position:"absolute",bottom:0,left:0,borderBottomLeftRadius:"0.25rem",borderBottomRightRadius:"0.25rem"},"& > .Ursa-ToastClose":{position:"absolute",cursor:"pointer",top:"0.625rem",right:"0.625rem",zIndex:50,color:color["--ursa-text-secondary"],transition:"color 0.15s ease-in-out","&:hover":{color:color["--ursa-white"]}}}}}));var Button=__webpack_require__("./src/lib/src/components/Button/Button.tsx");const Toast_story={title:"Components/Toast",component:Toast},Template=args=>{const[active,setActive]=(0,react.useState)(!1),clickHandler=()=>setActive((prev=>!prev));return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(Button.z,{primary:!0,onClick:clickHandler,children:"Show Toast"}),active&&(0,jsx_runtime.jsx)(Toast,{onDismiss:clickHandler,...args})]})},BasicToast=Template.bind({});BasicToast.args={children:"Order updated"};const ToastWithProgressBarAndPauseOnHover=Template.bind({});ToastWithProgressBarAndPauseOnHover.args={children:"Order updated",progress:!0,pauseOnHover:!0},BasicToast.parameters={...BasicToast.parameters,docs:{...BasicToast.parameters?.docs,source:{originalSource:"args => {\n  const [active, setActive] = useState(false);\n  const clickHandler = () => setActive(prev => !prev);\n  return <>\r\n      <Button primary onClick={clickHandler}>\r\n        Show Toast\r\n      </Button>\r\n      {active && <Toast onDismiss={clickHandler} {...args} />}\r\n    </>;\n}",...BasicToast.parameters?.docs?.source}}},ToastWithProgressBarAndPauseOnHover.parameters={...ToastWithProgressBarAndPauseOnHover.parameters,docs:{...ToastWithProgressBarAndPauseOnHover.parameters?.docs,source:{originalSource:"args => {\n  const [active, setActive] = useState(false);\n  const clickHandler = () => setActive(prev => !prev);\n  return <>\r\n      <Button primary onClick={clickHandler}>\r\n        Show Toast\r\n      </Button>\r\n      {active && <Toast onDismiss={clickHandler} {...args} />}\r\n    </>;\n}",...ToastWithProgressBarAndPauseOnHover.parameters?.docs?.source}}};const __namedExportsOrder=["BasicToast","ToastWithProgressBarAndPauseOnHover"]},"./src/lib/src/components/ProgressBar/ProgressBar.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{k:()=>ProgressBar});__webpack_require__("./node_modules/react/index.js");var _emotion_styled__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@emotion/styled/dist/emotion-styled.browser.esm.js"),_styles__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/lib/src/styles/animations.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/jsx-runtime.js");const UnstyledProgress=_emotion_styled__WEBPACK_IMPORTED_MODULE_1__.Z.progress((()=>({position:"absolute",top:0,width:"1px !important",height:"1px !important",margin:"0 !important",padding:"0 !important",overflow:"hidden !important",clipPath:"inset(50%) !important",border:"0 !important",whiteSpace:"nowrap"}))),UrsaProgressBar=({progress,className})=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("div",{className:`Ursa-ProgressBar ${className||""}`,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(UnstyledProgress,{className:"Ursa-Progress",value:progress,max:100,children:progress}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{className:"Ursa-ProgressBarIndicator"})]});UrsaProgressBar.displayName="UrsaProgressBar";const ProgressBar=(0,_emotion_styled__WEBPACK_IMPORTED_MODULE_1__.Z)(UrsaProgressBar)((({theme:{color,animation},progress,size,preset="progress",animated=!0,rounded})=>{const{fillX}=(0,_styles__WEBPACK_IMPORTED_MODULE_3__._)(progress),computedTransform=`scaleX(${"countdown"===preset||animated?progress??0:0}%)`,computedAnimation=animated?"progress"===preset?`${fillX} 0.5s ease forwards`:void 0:"unset";return{position:"relative",width:"100%",height:`${"small"===size?.5:"large"===size?2:1}rem`,borderRadius:rounded?"0.825rem":"initial",backgroundColor:color["--ursa-neutral"],"& > .Ursa-ProgressBarIndicator":{transform:computedTransform,transformOrigin:"0 50%",height:"inherit",borderRadius:"inherit",backgroundColor:color["--ursa-accent-color"],transition:"countdown"===preset?"transform 0.09s linear":void 0,animation:computedAnimation}}}))},"./src/lib/src/components/ProgressBar/utilities/useCountdown.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{a:()=>useCountdown});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");const useCountdown=(timeout=5,offset=.1,options={condition:void 0,onDismiss:void 0})=>{const[duration,setDuration]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(timeout),{condition,onDismiss}=options;(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{if(!condition){if(duration>0){const interval=setInterval((()=>setDuration(duration-offset)),1e3*offset);return()=>clearInterval(interval)}onDismiss?.()}}),[duration,offset,condition,onDismiss]);return{countdown:Math.max((duration-offset)/(timeout-offset)*100,0),duration:Math.round(duration)}}},"./src/lib/src/icons/MobileCancelMajor.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});__webpack_require__("./node_modules/react/index.js");var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js");const SvgMobileCancelMajor=props=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("svg",{viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",role:"img",...props,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("path",{d:"m11.414 10 6.293-6.293a1 1 0 1 0-1.414-1.414L10 8.586 3.707 2.293a1 1 0 0 0-1.414 1.414L8.586 10l-6.293 6.293a1 1 0 1 0 1.414 1.414L10 11.414l6.293 6.293A.998.998 0 0 0 18 17a.999.999 0 0 0-.293-.707L11.414 10z",fill:"#5C5F62"})});SvgMobileCancelMajor.displayName="SvgMobileCancelMajor";const __WEBPACK_DEFAULT_EXPORT__=SvgMobileCancelMajor},"./src/lib/src/styles/animations.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{_:()=>useAnimation});var _emotion_react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@emotion/react/dist/emotion-react.browser.esm.js");const useAnimation=value=>{const fadeIn=(0,_emotion_react__WEBPACK_IMPORTED_MODULE_0__.F4)({from:{opacity:0},to:{opacity:1}}),fadeOut=(0,_emotion_react__WEBPACK_IMPORTED_MODULE_0__.F4)({from:{opacity:1},to:{opacity:0}}),fillX=(0,_emotion_react__WEBPACK_IMPORTED_MODULE_0__.F4)({from:{transform:"scaleX(0)"},to:{transform:`scaleX(${value}%)`}}),reverseFillX=(0,_emotion_react__WEBPACK_IMPORTED_MODULE_0__.F4)({from:{transform:`scaleX(${value}%)`},to:{transform:"scaleX(0)"}}),fillY=(0,_emotion_react__WEBPACK_IMPORTED_MODULE_0__.F4)({from:{transform:"scaleY(0)"},to:{transform:`scaleY(${value}%)`}}),zoomIn=(0,_emotion_react__WEBPACK_IMPORTED_MODULE_0__.F4)({from:{transform:"scale(0)"},to:{transform:"scale(1)"}}),zoomOut=(0,_emotion_react__WEBPACK_IMPORTED_MODULE_0__.F4)({from:{transform:"scale(1)"},to:{transform:"scale(0)"}}),zoomInOut=(0,_emotion_react__WEBPACK_IMPORTED_MODULE_0__.F4)({"0%":{transform:"scale(0)"},"2%":{transform:"scale(1)"},"98%":{transform:"scale(1)"},"100%":{transform:"scale(0)"}}),slideInLeft=(0,_emotion_react__WEBPACK_IMPORTED_MODULE_0__.F4)({from:{transform:"translateX(-2000px)"},to:{transform:"translateX(0)"}}),slideOutLeft=(0,_emotion_react__WEBPACK_IMPORTED_MODULE_0__.F4)({from:{transform:"translateX(0)"},to:{transform:"translateX(-2000px)"}}),slideInRight=(0,_emotion_react__WEBPACK_IMPORTED_MODULE_0__.F4)({from:{transform:"translateX(2000px)"},to:{transform:"translateX(0)"}}),slideOutRight=(0,_emotion_react__WEBPACK_IMPORTED_MODULE_0__.F4)({from:{transform:"translateX(0)"},to:{transform:"translateX(2000px)"}}),slideInTop=(0,_emotion_react__WEBPACK_IMPORTED_MODULE_0__.F4)({from:{transform:"translateY(-2000px)"},to:{transform:"translateY(0)"}}),slideOutTop=(0,_emotion_react__WEBPACK_IMPORTED_MODULE_0__.F4)({from:{transform:"translateY(0)"},to:{transform:"translateY(-2000px)"}});return{fadeIn,fadeOut,fillX,reverseFillX,fillY,zoomIn,zoomOut,zoomInOut,slideInTop,slideInLeft,slideInBottom:(0,_emotion_react__WEBPACK_IMPORTED_MODULE_0__.F4)({from:{transform:"translateY(2000px)"},to:{transform:"translateY(0)"}}),slideInRight,slideOutTop,slideOutLeft,slideOutBottom:(0,_emotion_react__WEBPACK_IMPORTED_MODULE_0__.F4)({from:{transform:"translateY(0)"},to:{transform:"translateY(2000px)"}}),slideOutRight,bounceInBottom:(0,_emotion_react__WEBPACK_IMPORTED_MODULE_0__.F4)({"0%":{transform:"translateY(200%)"},"70%":{transform:"translateY(-20px)"},"80%":{transform:"translateY(15px)"},"90%":{transform:"translateY(-10px)"},"100%":{transform:"translateY(0)"}})}}}}]);